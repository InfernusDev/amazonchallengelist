/* ---------------------------
   Modern / Clean Geometry Dash - Pointercrate Inspired (Spaced + Overflow Fixed)
   --------------------------- */

/* color palette (dark theme) */
:root {
  --bg: #18181a;
  --panel: #1f1f23;
  --muted: #9aa0a6;
  --accent: #ffd24a;
  --accent-2: #7bd389;
  --text: #ececec;
  --subtle: rgba(255,255,255,0.04);
  --radius: 14px;
  --glass: rgba(255,255,255,0.02);
  --card-shadow: 0 8px 24px rgba(0,0,0,0.55);
}

/* base typography & smoothing */
.page-list,
.page-list * {
  box-sizing: border-box;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, sans-serif;
  color: var(--text);
  line-height: 1.65;
  overflow-wrap: break-word; /* prevent ultra-long words/titles from breaking layout */
  word-break: break-word;
}

/* main layout: flexible columns, prevent overflow */
.page-list {
  display: grid;
  grid-template-columns: minmax(280px, 320px) minmax(400px, 1fr) minmax(300px, 340px);
  gap: 2.5rem;
  align-items: start;
  padding: 3rem 2rem; /* reduced side padding if needed */
  background: linear-gradient(180deg, #121216 0%, var(--bg) 100%);
  min-height: calc(100vh - 48px);
  max-width: 100vw; /* ensure it doesn't exceed viewport width */
  overflow-x: hidden; /* hide any accidental horizontal overflow */
}

/* mobile: stack vertically with more space */
@media (max-width: 1100px) { /* wider breakpoint to stack sooner if overflow happens */
  .page-list {
    grid-template-columns: 1fr;
    padding: 2rem 1.5rem;
    gap: 2.25rem;
  }
  .page-list .meta-container { order: 3; }
  .page-list .level-container { order: 2; }
  .page-list .list-container { order: 1; }
}

/* LEFT: List sidebar – contain it */
.page-list .list-container {
  border-radius: var(--radius);
  background: linear-gradient(180deg, rgba(255,255,255,0.015), rgba(0,0,0,0.025));
  box-shadow: var(--card-shadow);
  overflow: hidden;
  height: calc(100vh - 8rem);
  max-width: 100%; /* prevent sidebar stretch */
}

.page-list .list-container .list-scroll {
  height: 100%;
  overflow-y: auto;
  overflow-x: hidden; /* no horizontal scroll in list */
  padding: 1.5rem;
  display: flex;
  flex-direction: column;
  gap: 1.25rem;
}

/* scrollbar (clean) */
.page-list .list-container .list-scroll::-webkit-scrollbar { width: 10px; }
.page-list .list-container .list-scroll::-webkit-scrollbar-track { background: transparent; }
.page-list .list-container .list-scroll::-webkit-scrollbar-thumb {
  background: linear-gradient(180deg, rgba(255,255,255,0.05), rgba(0,0,0,0.4));
  border-radius: 10px;
  border: 3px solid transparent;
  background-clip: padding-box;
}

/* list items – ensure text wraps */
.page-list .list .level button {
  display: flex;
  align-items: center;
  gap: 1.2rem;
  width: 100%;
  padding: 1.4rem 1.5rem 1.4rem 4.2rem;
  background: transparent;
  border: none;
  color: var(--text);
  font-weight: 600;
  cursor: pointer;
  min-height: 72px;
  text-align: left;
  flex-wrap: wrap; /* allow wrapping if very long title */
}

/* CENTER: Level content – cap width & add scroll if needed */
.page-list .level-container {
  align-self: start;
  max-width: 100%;
  overflow-x: auto; /* allow horizontal scroll only if truly needed (rare) */
  padding: 0;
}

.page-list .level-container .level {
  border-radius: var(--radius);
  padding: 2.8rem;
  background: linear-gradient(180deg, rgba(255,255,255,0.015), rgba(0,0,0,0.035));
  box-shadow: var(--card-shadow);
  display: flex;
  flex-direction: column;
  gap: 2rem;
  max-width: 100%; /* enforce fit */
  overflow: hidden; /* clip anything trying to escape */
}

.page-list .level-container .level .video,
.page-list .level-container .level .info-row,
.page-list .level-container .level .records {
  width: 100%;
  max-width: 100%;
  overflow-x: auto; /* safe scroll for wide tables/rows */
}

/* Icon/button rows in center – force wrap & smaller gap if crowded */
.page-list .level-container .level .info-row,
.page-list .level-container .level [class*="icons"] { /* assuming icons have a class like that */
  display: flex;
  flex-wrap: wrap;
  gap: 1.5rem; /* smaller than before to fit */
  justify-content: flex-start;
}

/* RIGHT: Meta – sticky but contained */
.page-list .meta {
  padding: 2.2rem;
  border-radius: var(--radius);
  background: linear-gradient(180deg, rgba(255,255,255,0.015), rgba(0,0,0,0.035));
  box-shadow: var(--card-shadow);
  position: sticky;
  top: 3rem;
  max-width: 100%;
  overflow: hidden;
}

/* General fixes */
.page-list a, .page-list button {
  white-space: normal; /* allow wrapping */
}

/* Extra mobile comfort */
@media (max-width: 600px) {
  .page-list {
    padding: 1.5rem 1rem;
  }
  .page-list .level-container .level {
    padding: 2rem 1.5rem;
  }
}
